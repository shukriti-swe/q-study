<style type="text/css">
	.created_name {
		background: #66afe9;
		color: #fff;
		font-size: 16px;
		padding: 10px 20px;
		display: flex;
		flex-wrap: wrap;
		align-items: center;
	}

	.created_name a {
		color: #fff;
	}

	.created_name img {
		max-width: 30px;
		margin-right: 10px;
	}

	.flex-end {
		justify-content: flex-end;
	}

	.d-flex {
		display: flex;
	}

	.idea_setting_mid_bottom {
		display: flex;
		align-items: flex-end;
		flex-wrap: wrap;
	}

	.ss_question_add_top {
		flex-wrap: wrap;
		display: flex;
		align-items: flex-start;
		justify-content: center;
	}

	.ss_question_add_top label,
	.idea_setting_mid label,
	.idea_setting_mid_bottom label {
		margin-bottom: 6px;
	}

	.idea_setting_mid {
		display: flex;
		align-items: flex-end;
		flex-wrap: wrap;
	}

	.btn-select {
		background: #a9a8a8;
		color: #fff;
		box-shadow: none !important;
		border-radius: 0;
	}

	.btn-select:hover,
	.btn-select.active {
		background: #00a2e8;
		color: #fff;
	}

	.idea_setting_mid_bottom .btn-select:hover,
	.idea_setting_mid_bottom .btn-select.active {
		background: #ff7f27;
		color: #fff;
	}

	.top_word_limt {
		background: #d9edf7;
		padding: 8px 10px;
		display: flex;
		flex-wrap: wrap;
		align-items: center;
	}

	.m-auto {
		margin-left: auto;
	}

	.b-btn {
		background: #9c4d9e;
		padding: 5px 10px;
		border-radius: 5px;
		color: #fff;
	}

	.btm_word_limt .content_box_word {
		border-radius: 5px;
		border: 1px solid #82bae6;
		margin: 10px 0;
		padding: 10px;
		width: 100%;
		box-shadow: 0px 0px 10px #d9edf7;
	}

	.btm_word_limt .content_box_word u {
		color: #888;
	}

	.btm_word_limt .content_box_word span {
		color: #888;
	}

	.btm_word_limt .content_box_word p {
		margin-top: 10px;
	}

	#login_form .modal-content,
	.ss_modal .modal-content {
		border: 1px solid #a6c9e2;
		padding: 5px;
	}

	#login_form .modal-header,
	.ss_modal .modal-header {
		background: url(assets/images/login_bg.png) repeat-x;
		color: #fff;
		padding: 0;
		border-radius: 5px;
	}

	#advance_searc_op {
		cursor: pointer;
	}

	#advance_searc_content {
		display: block;
	}

	.content_box_word {
		min-height: 300px;
	}

	.frist_time_user_mid_con_mes strong {
		color: #ff7f27;
	}

	.frist_time_user_mid_con_mes a {
		color: #00c1f7;
		display: inline-block;
	}

	.frist_time_user_mid_con a {
		display: inline-block;
	}

	.frist_time_user_mid_con label {
		margin-bottom: 6px;
	}

	.frist_time_user_mid_con .image_box {
		border: 1px solid #00c1f7;
		height: 100px;
		width: 100px;
		margin: 10px auto;
		background: #d9d9d9;
	}

	.clik_point {
		border: 1px solid #4bb04f;
		background: #4bb04f;
		color: #fff;
		height: 60px;
		width: 60px;
		line-height: 55px;
		text-align: center;
		margin: 20px auto;
		border-radius: 50%;
		font-size: 30px;
		cursor: pointer;
	}

	.clik_point_detatis {
		display: inline-flex;
		justify-content: center;
		align-items: center;
		padding: 20px 0px;
	}

	.clik_point_detatis .clik_point {
		display: block !important;
		margin-left: 10px;
		border: 1px solid #ff0000;
		background: #ff0000;
		color: #fff;
		height: 60px;
		width: 60px;
		line-height: 55px;
		text-align: center;
		border-radius: 50%;
		font-size: 30px;
	}

	.clik_point_detatis_tutor .your_achived_point {
		max-width: 200px;
		margin: auto;
	}

	#topicstory_tutor .btm_word_limt {
		min-height: 300px;
		padding: 30px;
	}

	.your_achived_point {
		border: 1px solid #015f4e;
		padding: 15px;
		text-align: center;
		margin: 10px;
		background: #f4f5f9;
	}

	.your_achived_point button {
		padding: 7px 15px;
		color: #fff;
		background: #015f4e;
		border: 0;
		border-radius: 5px;
		margin-top: 10px;
	}

	.profile_right_ida {
		padding: 10px;
		padding-top: 20px;
		text-align: center;

	}

	.profile_right_ida .welcom_mes {
		font-size: 13px;
		line-height: 16px;
		margin: 20px 0px;
		padding: 10px;
		background: #b5e61d;
		border: 1px solid #0079bc;
	}

	.profile_right_ida u {
		color: #7f7f7f;
	}

	.profile_right_ida .btn-primary {
		margin-bottom: 5px;
		background: #fff;
		color: #333;
		padding: 6px 15px;
		border-radius: 0;
		line-height: 16px;
		border: 1px solid #c3c3c3;
	}

	.profile_right_ida .btn-primary:hover {
		background: #a349a4;
		color: #fff;
		padding: 6px 15px;
		border-radius: 0;
		line-height: 16px;
	}

	#show_question_idea_profile table {
		font-size: 13px;
	}

	.profile_right_ida_bottom {
		padding: 0 10px;
	}

	.profile_right_ida_bottom .table>thead>tr>th {
		border-bottom: 2px solid #e6eed5;
	}

	.red {
		color: #ff0000;
	}

	.blue {
		color: #00b0f0;
	}

	.gold {
		color: #e36c09;
	}

	.green {
		color: #00b050;
	}

	.orange {
		color: #953734;
	}

	.profile_right_ida_bottom .table tbody tr>td {
		text-align: center;
		padding: 4px 10px;
		color: #ed1c24;
	}

	.profile_right_ida_bottom .table tbody tr {
		background: #e6eed5;
		border-bottom: 20px solid #fff;
	}

	.profile_right_ida_bottom .table input {
		margin: 0;
	}

	.profile_right_ida_bottom .table tbody tr>td:first-child {
		text-align: left;
		color: #76923c;
		font-weight: bold;
	}

	.profile_right_ida_bottom .table input[type=checkbox]:focus {
		outline: none;
	}

	.profile_right_ida_bottom .table input[type=checkbox] {
		background-color: #fff;
		border-radius: 2px;
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
		width: 14px;
		height: 14px;
		cursor: pointer;
		position: relative;
		border: 1px solid #959595;
	}

	.profile_right_ida_bottom .table input[type=checkbox]:checked {
		border: 1px solid #0699ef;
		background-color: #0699ef;
		background: #0699ef url("data:image/gif;base64,R0lGODlhCwAKAIABAP////3cnSH5BAEKAAEALAAAAAALAAoAAAIUjH+AC73WHIsw0UCjglraO20PNhYAOw==") 3px 3px no-repeat;
		background-size: 8px;
	}

	@media (min-width: 1000px) {
		#show_question_idea_profile .modal-dialog {
			width: 800px;
		}
	}

	#show_question_idea_profile {
		overflow-y: scroll;
	}

	.profile_left_ida table {
		margin-top: 10px;
	}

	.profile_left_ida table tr td {
		border: none;
		padding: 0;
		color: #7f7f7f;
		font-size: 13px;
	}

	.p-3 {
		padding: 15px;
	}

	.ss_modal .modal-content {
		border: 1px solid #a6c9e2;
		padding: 0;
		margin: 0;
	}

	.top_textprev {
		padding-bottom: 20px;
	}

	.top_textprev h4 {
		color: #7f7f7f;
		font-size: 16px;
		font-weight: bold;
	}

	.top_textprev .btn {
		background: #9c4d9e;
		border-radius: 0;
		border: none;
		color: #fff;
		padding: 8px 20px;
		margin-top: 10px;
		margin-bottom: 20px;
	}

	.top_textprev h6 {
		color: #000;
		font-size: 14px;
		font-weight: bold;
	}

	.workout_menu {
		height: initial;
	}

	.workout_menu ul {
		margin-bottom: 20px;
		display: flex;
		align-items: end;
		flex-wrap: wrap;
	}

	.workout_menu ul>div {
		margin-bottom: 10px;
	}

	.top_word_limt {
		background: #d9edf7;
		padding: 8px 10px;
		display: flex;
		flex-wrap: wrap;
		align-items: center;
	}

	.m-auto {
		margin-left: auto;
	}

	.b-btn {
		background: #0079bc;
		padding: 5px 10px;
		border-radius: 5px;
		color: #fff;
	}

	#login_form .modal-dialog,
	.ss_modal .modal-dialog {
		max-width: 100%;
	}

	.btm_word_limt .content_box_word {
		border-radius: 5px;
		border: 1px solid #82bae6;
		margin: 10px 0;
		padding: 10px;
		width: 100%;
		box-shadow: 0px 0px 10px #d9edf7;
		margin-top: 0 !important;
	}

	.btm_word_limt .content_box_word u {
		color: #888;
	}

	.btm_word_limt .content_box_word span {
		color: #888;
	}

	.btm_word_limt .content_box_word p {
		margin-top: 10px;
	}

	.ss_modal .modal-dialog {
		position: absolute;
		margin-top: 0% !important;
		top: 50% !important;
		left: 50% !important;
		transform: translate(-50%, -50%) !important;
	}

	.ss_modal .modal-content {
		padding: 5px !important;
	}

	.ss_modal .modal-header {
		background: url(assets/images/login_bg.png) repeat-x;
		color: #fff;
		padding: 0;
		border-radius: 5px;
	}

	#show_question_idea_profile .modal-dialog {
		position: relative;
		margin-top: 2% !important;
		top: 0 !important;
		left: auto !important;
		transform: translate(0%, 0%) !important;
	}

	.created_name {
		background: #66afe9;
		color: #fff;
		font-size: 16px;
		padding: 10px 20px;
		display: flex;
		flex-wrap: wrap;
		align-items: center;
	}

	.mclose {
		position: absolute;
		right: 10px;
		top: 10px;
		font-size: 20px;
		z-index: 10;
		cursor: pointer;
	}

	.created_name img {
		max-width: 30px;
		margin-right: 10px;
	}

	.created_name a {
		color: #fff;
	}
	.serach_list .input-group {
		width: 100%;
	}
</style>

<style>
	/*-----new css------*/
	.w-50 {
		width: 50px !important;
	}

	.ss_modal .form-group {
		width: 100%;
	}

	.ss_modal .form-group input {
		height: 34px;
	}

	.ss_modal .form-group label {
		margin-bottom: 5px;
	}

	#shot_question .modal-content,
	.ss_modal .modal-content {
		border: 1px solid #a6c9e2;
		padding: 5px;
	}

	#shot_question_details {
		overflow: auto;
	}

	#shot_question_details .col-sm-4 {
		width: 100%;
	}

	#shot_question_details.ss_modal .modal-dialog {
		margin-top: 6%;
	}

	#checkbox_titlelimit_alert,
	#checkbox_titlelimitidea_alert {
		display: none;
	}

	#checkbox_titlelimit_alert>div,
	#checkbox_titlelimitidea_alert>div {
		flex-wrap: wrap;
		align-items: center;
		padding: 15px 0px;
		color: #ff0000;
		display: flex;
		justify-content: flex-end;
	}

	.ss_q_btn {
		margin-top: 27px;
	}

	.checkbox,
	.form-group {
		display: block !important;
		margin-bottom: 10px !important;
	}

	.createQuesLabel {
		margin-top: 5px;
	}

	.select2-container .select2-selection--single {
		height: 33px;
		margin-top: 6px;
	}

	.select2-container--default .select2-selection--single .select2-selection__rendered {
		line-height: 30px;
	}

	.select2-container--default .select2-selection--single .select2-selection__arrow {
		height: 40px;
	}

	#prevBtn {
		background-color: #bbbbbb;
	}

	.image_box_list {
		overflow: hidden;
		box-shadow: 0px 0px 0px 1px #91b7ef;
		background-color: #fbfbfb;
	}

	/* input[type=text] {
		width: 50%;
		border: 1px solid #e1f2f7;
		padding: 7px 130px;
	
	} */

	#tbl_show {
		color: #222222;
		font-size: 14px;
		line-height: 24px;
		letter-spacing: .5px;

	}

	#tbl_show .tab {
		padding: 20px;
	}

	.blue {
		color: red;
	}


	.ss_pagination {
		margin-right: 80px;
		background: #fff;
		margin-top: 1px;
	}

	.ss_pagination button {
		background-color: transparent !important;
		padding: 10px 15px !important;
		line-height: 17px;
		margin: 4px 0px 5px 0px;
	}

	.ss_pagination button.activtab {
		background: url(assets/images/ss_p_bg.jpg) repeat-x bottom !important;
		border: 1px solid #979797 !important;
		border-top: 2px solid #979797 !important;
		border-radius: 5px;
	}

	.ss_pagination #prevBtn {
		color: #666 !important;
	}

	.question_tutorial_modal .modal-dialog {
		overflow-y: initial !important
	}

	.question_tutorial_modal .modal-body {
		height: 400px;
		overflow-y: auto;
	}
	.q_created_name {
		/* background: #66afe9; */
		color: #fff;
		font-size: 16px;
		/* padding: 10px 20px; */
		display: flex;
		flex-wrap: wrap;
		align-items: center;
	}
	.q_created_name img {
		max-width: 30px;
		margin-right: 10px;
	}
	#search_view{
		display: block;
		border: 1px solid #ccc;
		margin-top: 5px;
		padding: 5px;
		border-radius: 10px;
		width:90%;
	}
	.search_button{
		cursor: pointer;
	}

	/*-----new css end-------*/
</style>

<form class="form-inline" id="question_form" method="POST" enctype="multipart/form-data">
	<input type="hidden" name="questionType" value="<?= $question_item ?>">
	<input type="hidden" name="question_id" value="<?= $question_id ?>">

	<div class="" style="margin-left: 15px;">
		<div class="row">
			<div class="col-sm-12">
				<div class="ss_question_add_top">


					<div class="form-group" style="float: left;margin-right: 10px;margin-top: 10px;">
						<ul class="ss_question_menu" id="quesType_1">
							<?php if (isset($question_module_check)) { ?>
								<?php if (count($question_module_check) == 1) { ?>
									<li style="background:#00a2e8">
										<a href="edit-module/<?php echo $question_module_check[0]['module_id']; ?>">M</a>
									</li>
								<?php } else { ?>
									<li style="background:#00a2e8">
										<a id="show_module_list" style="cursor:pointer">M</a>
									</li>
								<?php } ?>
							<?php } ?>
							<li>
								<a href="question_edit/<?php echo $question_item . '/' . $question_id ?>"><?php echo "Q" . $qIndex; ?></a>
							</li>
						</ul>
					</div>
					<div class="form-group" style="float: left;margin-right: 10px;">
						<label for="exampleInputName2">Grade/Year/Level</label>
						<div class="select">
							<select class="form-control createQuesLabel" name="studentgrade">
								<option value="">Select Grade/Year/Level</option>
								<?php $grades = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]; ?>
								<?php foreach ($grades as $grade) { ?>
									<option value="<?php echo $grade ?>" <?php if ($question_info[0]['studentgrade'] == $grade) {
																				echo 'selected';
																			} ?>>
										<?php echo $grade; ?>
									</option>
								<?php } ?>
							</select>
						</div>
					</div>
					<div class="form-group" style="float: left;margin-right: 10px;">
						<label>Subject <span><img src="assets/images/icon_new.png"> New</span> </label>
						<div class="select">
							<select class="form-control createQuesLabel" name="subject" id="subject">
								<option value="">Select ...</option>
								<?php foreach ($all_subject as $subject) { ?>
									<option value="<?php echo $subject['subject_id'] ?>" <?php if ($question_info[0]['subject'] == $subject['subject_id']) {
																								echo 'selected';
																							} ?>>
										<?php echo $subject['subject_name']; ?>
									</option>
								<?php } ?>
							</select>
						</div>
					</div>
					<div class="form-group" style="float: left;margin-right: 10px;">
						<label>Chapter <span id="get_subject"><img src="assets/images/icon_new.png"> New</span></label>
						<div class="select">
							<select class="form-control createQuesLabel" name="chapter" id="subject_chapter">
								<option value="">Select Chapter</option>
								<?php foreach ($subject_base_chapter as $chapter) { ?>
									<option value="<?php echo $chapter['id']; ?>" <?php if ($question_info[0]['chapter'] == $chapter['id']) {
																						echo 'selected';
																					} ?>>
										<?php echo $chapter['chapterName']; ?>
									</option>
								<?php } ?>
							</select>
						</div>
					</div>
					<div class="form-group" style="float: left;margin-right: 10px;">
						<label>Country</label>
						<div class="select">
							<select class="form-control createQuesLabel select2" name="country" id="quesCountry">
								<option value="">Select Country</option>
								<?php foreach ($allCountry as $country) : ?>
									<?php $sel = strlen($selCountry) && ($country['id'] == $selCountry) ? 'selected' : ''; ?>
									<option value="<?php echo $country['id'] ?>" <?php echo $sel; ?>><?php echo $country['countryName'] ?></option>
								<?php endforeach ?>
							</select>
						</div>
					</div>
					<a class="ss_q_btn btn btn_red pull-left" onclick="open_question_setting()">
						Question setting
					</a>
					<button class="ss_q_btn btn pull-left"><i class="fa fa-save" aria-hidden="true" type="submit"></i> Save</button>
					<a class="ss_q_btn btn pull-left" href="#"><i class="fa fa-remove" aria-hidden="true"></i> Cancel</a>

					<a class="ss_q_btn btn pull-left" id="preview_btn" href="Admin/question_preview/<?php echo $question_info[0]['questionType']; ?>/<?php echo $question_info[0]['id']; ?>/<?php echo $tutor_id; ?>" style="">
						<i class="fa fa-file-o" aria-hidden="true"></i> Preview
					</a>
					<?php if ($question_info[0]['questionType'] == 4) { ?>
						<a class="ss_q_btn btn pull-left" id="question_tutorial" href="#" style="background: #c4ffff">
							Tutorial Image
						</a>
					<?php } ?>

				</div>
			</div>
		</div>
		<div class="idea_setting_mid">
			<div class="form-group" style="float: left;margin-right: 10px;">
				<input type="checkbox" name="short_question_allow" value="1" <?php if ($idea_info['short_question_allow'] == 1) {
																					echo "checked";
																				} ?>> <label id='shot_question_box'> <img src="assets/images/icon_new.png"> New
				</label>
				<div>
					<button type="button" class="btn btn-select active show_short_question">Question</button>
				</div>
			</div>
			<div class="form-group" style="justify-content: center;float: left;margin-right: 10px;">
				<input type="checkbox" name="large_question_allow" value="1" <?php if ($idea_info['large_question_allow'] == 1) {
																					echo "checked";
																				} ?>>
				<label id='large_question'> <img src="assets/images/icon_new.png"> New
				</label>
				<div>
					<button type="button" class="btn btn-select open_detail_question">Detail Question</button>
				</div>
			</div>
			<div class="form-group" style="float: left;margin-right: 10px;">
				<div>
					<button type="button" class="btn btn-select  ">Student Title
						<input type="hidden" name="student_title" value="0">
						<input type="checkbox" name="student_title" value="1" <?php if ($idea_info['student_title'] == 1) {
																					echo "checked";
																				} ?>></button>
				</div>
			</div>
			<div class="form-group text-center" style="float: left;margin-right: 10px;">
				<label> <span> Word Limit</span> </label>
				<select class="form-control w-50" id="word_limit_set" name="word_limit">
					<option value="00" <?php if ($idea_info['word_limit'] == 00) {
											echo "selected";
										} ?>>00</option>
					<option value="30" <?php if ($idea_info['word_limit'] == 30) {
											echo "selected";
										} ?>>30</option>
					<option value="50" <?php if ($idea_info['word_limit'] == 50) {
											echo "selected";
										} ?>>50</option>
					<option value="100" <?php if ($idea_info['word_limit'] == 100) {
											echo "selected";
										} ?>>100</option>
					<option value="200" <?php if ($idea_info['word_limit'] == 200) {
											echo "selected";
										} ?>>200</option>
					<option value="300" <?php if ($idea_info['word_limit'] == 300) {
											echo "selected";
										} ?>>300</option>
					<option value="400" <?php if ($idea_info['word_limit'] == 400) {
											echo "selected";
										} ?>>400</option>
					<option value="500" <?php if ($idea_info['word_limit'] == 500) {
											echo "selected";
										} ?>>500</option>
				</select> 
			</div>
			<div class="form-group text-center" style="float: left;margin-right: 10px;">
				<label> <span> Time To Answer</span> </label>
				<div class="d-flex">
					<input type="text" id="time_hour" class="form-control w-50" name="time_hour" value="<?php if ($idea_info['time_hour'] < 10) {
														echo '0' . $idea_info['time_hour'];
													} else {
														echo $idea_info['time_hour'];
													} ?>">
					<input type="text" id="time_min" class="form-control w-50" name="time_min" value="<?php if ($idea_info['time_min'] < 10) {
														echo '0' . $idea_info['time_min'];
													} else {
														echo $idea_info['time_min'];
													} ?>">
					<input type="text" id="time_sec" class="form-control w-50" name="time_sec" value="<?php if ($idea_info['time_sec'] < 10) {
														echo '0' . $idea_info['time_sec'];
													} else {
														echo $idea_info['time_sec'];
													} ?>">
				</div>
			</div>
			<div class="form-group text-center" style="float: left;margin-right: 10px;">
				<label> <span> Allow Ideas</span> </label>
				<div style="height:34px">
					<input type="checkbox" name="allow_idea" value="1" <?php if ($idea_info['allow_idea'] == 1) {
																			echo "checked";
																		} ?>>
				</div>
			</div>
			<div class="form-group text-center" style="float: left;margin-right: 10px;">
				<label> <span> Add start button</span> </label>
				<div style="height:34px">
					<input type="checkbox" name="add_start_button" value="1" <?php if ($idea_info['add_start_button'] == 1) {
																					echo "checked";
																				} ?>>
				</div>
			</div>
			<div class="form-group" style="float: left;margin-right: 10px;">
				<div>
					<!-- <button type="button" class="btn btn-select  " style="<?//php if ($idea_info['allows_online'] == 1) {
					//echo "background-color: #df3832;";
					//} else {
							//echo 'background-color: #c7c0c0';
					//} ?>">
					Admin Approval <input type="checkbox" name="admin_approval" value="" <?//php if ($idea_info['approval'] == 1) { echo "checked";} ?>></button> -->
				</div>
			</div>
			<div class="form-group text-center" style="float: left;margin-right: 10px;">
				<a href="<?=$_SERVER['HTTP_REFERER'];?>" class="btn btn-primary" style="background-color:#5cb85c;border:1px solid #5cb85c;">New Idea Created</a>
			</div>
		</div>
		<div class="idea_setting_mid_bottom">
			<div class="all_idea">
				
				
					<div class="form-group" style="float: left;margin-right: 10px;">
						<label id="create_new_idea"> <span><img src="assets/images/icon_new.png"> New</span> </label>
						<div style="position:relative;">
							<?php if (!empty($ideas)) {
								$a = 1;
								foreach ($ideas as $idea) { 
									if($idea['user_id']==$tutor_id){
									?>
									<!-- <input type="checkbox" checked name="" style="position:absolute;top: -25px;margin-left: 25px;"> -->
									<?php }?>
									<?php if(!empty($idea['tutor_question_id'])){
										$style='background:#a349a4;color:white;border:1px solid #ccc;';
									}else{
										$style='background:#00a2e8;color:white;border:1px solid #ccc;';
									}?>
									<button type="button" style="<?=$style?>" data-id="<?= $idea['question_id'] ?>" data-idea="<?=$idea['id']?>"  class="btn btn-select-border view_idea">Idea-<?= $a ?></button>
									
								<?php
									$a++;
								}
							} else { ?>
								<button type="button" style="background:#fff;color:black;" class="btn btn-select-border">Idea- </button>
							<?php } ?>
						</div>
					</div>

				
			</div>
		</div>
		<div class="row">
			<div class="col-md-6">
				<div class="rs_word_limt">
					<div class="top_word_limt">
						<span id="word_show"><b id="total_idea_word"><?= $idea_info['word_limit'] ?></b> Words</span>
						<span style="margin:0 auto;" class="m-auto">
							<input id="time_show" class="form-control text-center" type="text" value="00:05:00" name="">
						</span>
						<span class="m-auto word_limit_show"> Word Limit <span class="m-auto b-btn word_limit_number_show">100</span></span>
					</div>
					<input type="hidden" id="module_id" value="<?= $tutor_ans[0]['module_id'] ?>">
					<input type="hidden" id="question_id" value="<?= $tutor_ans[0]['question_id'] ?>">
					<input type="hidden" id="idea_id" value="<?= $tutor_ans[0]['idea_id'] ?>">
					<input type="hidden" id="idea_no" value="<?= $tutor_ans[0]['idea_no'] ?>">
					<input type="hidden" id="tutor_id" value="<?= $tutor_ans[0]['tutor_id'] ?>">
					<div class="btm_word_limt">
						<div class="content_box_word">
						    <textarea id="word_count" class="form-control idea_main_body mytextarea" name="idea_main_body"><?php foreach ($ideas as $idea) { 
								if($idea['id']==$idea_id){
									echo $idea['idea_ans'];} }
							?></textarea>
						</div>
					</div>
				</div>
				<div class="created_name question_idea_show">
				<?php foreach ($ideas as $idea) { 
					if($idea['id']==$idea_id){ ?>
					<img src="assets/images/hand_with_pen_blue.PNG"> <a href="javascript:;" id="idea_creator_details" data-qcreator="<?=$idea['name']?>" data-idea_name="<?=$idea['idea_title']?>" data-created_at="<?=$idea['created_at']?>"> <u>Idea Created By :</u> </a> &nbsp; <b class="idea_creator"> <?=$idea['name']?></b>
				<?php } }?>
					
				</div>
			</div>
			<div class="col-md-6" >
			<div style="position:relative;">
				<div id="advance_allowonline" style="position:absolute;bottom: 5px;margin-left: 68%;">    
					<div class="idea_setting_mid flex-end">
						<!-- <div class="form-group text-center" style="float: left;margin-right: 10px; margin-bottom: 0">
							<label> <span> Allow Online</span> </label>
							<div style="height:34px">
								<input type="checkbox" name="allow_online" id="allow_online" value="1" 
								<?//php if ($idea_infos[0]['allows_online'] == 1) {echo "checked";} ?>>
							</div>
						</div> -->
						<div class="form-group text-center" style="float: left;margin-right: 10px; margin-bottom: 0;">
							<!-- <label> <span> Serial No:<?//= $idea_infos[0]['idea_no']; ?></span> </label> -->
							<!-- <div style="height:34px">
								<select class="form-control" name="serial_no" id="serial_no_idea" data-id="<?//= $idea_infos[0]['idea_no'] ?>">
									<option value=""></option>
									<option value="1" <?//php if ($idea_infos[0]['idea_no'] == 1) {
															//echo "selected";
														//} ?>>1</option>
									<option value="2" <?//php if ($idea_infos[0]['idea_no'] == 2) {
															//echo "selected";
														//} ?>>2</option>
									<option value="3" <?//php if ($idea_infos[0]['idea_no'] == 3) {
															//echo "selected";
														//} ?>>3</option>
									<option value="4" <?//php if ($idea_infos[0]['idea_no'] == 4) {
															//echo "selected";
														//} ?>>4</option>
									<option value="5" <?//php if ($idea_infos[0]['idea_no'] == 4) {
															//echo "selected";
														//} ?>>5</option>
								</select>
							</div> -->
						</div>
					</div>
					<div class="btm_word_limt" style="display:none;">
						<div class="content_box_word">
							<?php echo $tutor_ans[0]['student_ans'] ?>
						</div>
						<div class="created_name">
							<img src="assets/images/icon_created.png"> <a href="javascript:;" id="open_like_modal"> <u>Topic/Story Created By :</u> </a> &nbsp; <?= $tutor_ans[0]['name'] ?>
						</div>

						
					</div>


				</div></div>




				<div style="overflow: hidden;">
				<input type="hidden" id="selected_search" value="">
					<div class="form-group" style="float: left;margin-right: 10px;"> 
						<div>
							<button type="button" class="btn btn-select question_title" style="<?php if(empty($idea_info['image_title'])){echo "background:#00a2e8";}?>">Question & Idea Title </button>
						</div> 
					</div> 
					<div class="form-group" style="float: left;margin-right: 10px;display:none;">
						<a type="button" class="btn btn-select clear_idea" style="display:none;">Clear</a>
					</div>
					<div class="form-group" style="float: left;margin-right: 10px;"> 
						<div>
							<img src="assets/images/search_a.png" id="advance_searc_op">
						</div> 
					</div>

					<div class="form-group" style="float: left;margin-right: 10px;"> 
						<div>
							<button type="button" class="btn btn-select" id="image_search_button" style="<?php if(!empty($idea_info['image_title'])){echo "background:#00a2e8";}?>">Image</button>
						</div> 
					</div> 
					<div class="form-group" style="float: left;margin-right: 10px;display:none;"> 
					
					</div>
					<div class="form-group" style="float: left;margin-right: 10px;"> 
						<div>
							<img src="assets/images/search_a.png" id="advance_searc_image">
						</div> 
					</div>
				</div>
				<?php if(empty($idea_info['image_title'])){?>
				<div style="overflow: hidden;">
					<div id="advance_searc_content" style="display:none;">
						<div class="serach_list"> 
							<div class="input-group">
							<input type="search" class="form-control" placeholder="Search" name="search" id="advance_searc_content_src" value="<?=$idea_info['shot_question_title']?>">
							<div class="input-group-btn">
								<button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
							</div>
							</div>
						</div>
						<div id="search_view">

						
						</div>
					</div>
					<br>
				</div>
				<?php }else{?>

				
				<div id="advance_searc_content">
					<div class="serach_list">
						<div class="input-group">
							<input type="search" class="form-control" placeholder="Search" name="search" id="advance_searc_content_src">
							<div class="input-group-btn">
								<button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
							</div>
						</div>
					</div>
				</div>
				<?php }?>
					
					<!-- ===== new feature ===== -->
					<div style="background-color: #00a2e8;" id="short_question_view">
			
						<div class="modal-header" style="padding: 2px;">
						<h4 style="background-color: #00a2e8; color:white;font-size: 15px;line-height: 27px;padding-left: 15px;font-weight: bold;letter-spacing: 0.5px;">Question 

							<button style="float: right; color:black;background-color: #00a2e8;border:none;" type="button" class="btnclose" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
						</h4>
						
						</div>

					
						<div class="modal-body">
							<div class="d-flex">
							<input type="checkbox" name="" id="checkbox_titlelimitidea"> &nbsp;
							<div class="form-group">
								<label style="color:white;margin-bottom:5px;">Title</label>
								<input type="text" id="short_title" class="form-control shot_question_title" name="shot_question_title" readonly=""  value="<?=$idea_info['shot_question_title']?>">
							</div>
							</div> 
							<div class="d-flex" style="display: flex;">
							<label style="color:white;"><?=$idea_info['image_title']?></label>
							
							</div> 

						</div>
						<input type="hidden" value="2" id="check_new_idea">
						<!-- <div class="modal-footer">
							<a href="javascript:" id="short_question_edit" style="float:left;color:white;"><b>Edit<b></a>
						
						</div> -->
						<div class="modal-footer add_edit_button">
							<!-- <div class="q_created_name">
							<img src="assets/images/icon_created.png"> <a href="javascript:;" id="question_creator_details"> <u style="color:#fff;">Topic/Story Created By :</u> </a> &nbsp; <b class="question_creator"><?//=$q_creator_name[0]['name']?> </b>
							</div> -->
							<div class="q_created_name">
								<img src="assets/images/creative_question_square.png"> <a href="javascript:;" id="question_creator_details" data-qcreator="<?=$idea_info['name']?>" data-question_name="<?=$idea_info['shot_question_title']?>" data-q_created_at="<?=$idea_info['created_at']?>"> <u id="q_created_name_text"></u> <u style="color:white;">Question Created By :</u></a> &nbsp; <b class="question_creator"><?=$q_creator_name[0]['name']?> </b>  
						    </div>
						</div>
					</div>
					<br>
					<div  style="background-color: #e1cbcb;display:none;" id="Idea_view">

					<div class="modal-header" style="padding: 2px;">
						<h4 style="background-color: #e1cbcb; color:#4732e9;font-size: 15px;line-height: 27px;padding-left: 15px;font-weight: bold;letter-spacing: 0.5px;">Idea

							<button style="float: right; color:black;background-color: #e1cbcb;border:none;" type="button" class="ideabtnclose" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
						</h4>
					</div>

                <div class="modal-body">
                  <!-- <div id="checkbox_titlelimit_alert">
                      <div>
                          Number of task submited on this topic &nbsp; <input class="form-control w-50" type="text" value="50" readonly="" name="">
                      </div>
                    
                    </div> -->
                  <div class="d-flex">
                    <input type="checkbox" name="" id="checkbox_titlelimit"> &nbsp;
                    <div class="form-group">
                      <label style="color:#4732e9">Idea/Topic/Story Title</label>
                      <input type="text" id="idea_title" class="form-control idea_question_title " name="idea_question_title" readonly="" maxlength="50">
                    </div>
                  </div> 
                

                </div>
            </div>
			</div>
		</div>
	</div>
</form>


<!-- modal -->
<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="login_form">
	<!-- Modal -->
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<form class="form-horizontal" method="post">
				<div class="modal-header">
					<h4>&nbsp;</h4>
				</div>

				<div class="modal-body">

					1 allrady axists

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn_blue" data-dismiss="modal">Ok</button>
				</div>
			</form>
		</div>
	</div>

</div>

<div class="modal fade ss_modal " tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="topicstory_tutor">
	<!-- Modal -->
	<div class="modal-dialog" role="document">
		<div class="modal-content">


			<div class="mclose" data-dismiss="modal">x</div>


			<div class="btm_word_limt text-center">

				<input type="hidden" name="tutor_idea_no" id="tutor_idea_no" value="">
				<input type="hidden" name="tutor_id" id="get_tutor_id" value="">
				<p>Tutor(<b class="tutor_name"><?= $tutor_ans[0]['name'] ?></b>)</p>
				<p><u>Topic/Stoty Title</u></p>
				<p class="blue">"<?= $idea_infos[0]['idea_title'] ?>"</p>
				<!-- <p > Created: &nbsp; &nbsp; <span id="tutor_submit_date">06/08/2021</span></p> -->
				<div class="clik_point"><i class="fa fa-thumbs-up" aria-hidden="true"></i></div>

				<div class="clik_point_detatis_tutor">
					<div class="clik_point_detatis">
						Total Number Of Like <div class="clik_point"><?= $tutor_like[0]['total_like']; ?></i></div>
					</div>
					<br>
					<div class="your_achived_point">
						Your Achived points <br>
						<button>15</button>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>

<div class="modal fade ss_modal" id="shot_question" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div style="background-color: #00a2e8; color: white;" class="modal-content">

			<div class="modal-header">
				<h4 style="background-color: #00a2e8; color:white;">Question

					<button style="float: right; color:black;background-color: #00a2e8;border:none;" type="button" class="short_question_close" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
				</h4>

			</div>

			<form class="">
				<div class="modal-body">
					<div id="checkbox_titlelimitidea_alert">
						<div>
							Number of writing task submited on this topic &nbsp; <input class="form-control w-50 idea_number" type="text" value="50" name="">
						</div>

					</div>
					<div class="d-flex">
						<input type="checkbox" name="" id="checkbox_titlelimitidea"> &nbsp;
						<div class="form-group">
							<label style="color:white;">Title</label>
							<input type="text" id="short_title" class="form-control shot_question_title " name="shot_question_title" readonly="" maxlength="50">
						</div>
					</div>
					<div class="d-flex" style="display: flex;">
						<!-- <input type="checkbox" name="" id="checkbox_photolimit"> &nbsp;&nbsp; -->

						<a style="color:white;cursor:pointer;" type="button" id="image_short_question">Image</a>
						<button class="btnclose" type="button" style="margin-left:auto;font-weight:normal;border:none;padding:8px 15px;border-radius:5px;color:black;">save</button>
					</div>

				</div>
				<div class="modal-footer">


				</div>
				<!-- </form> -->
		</div>
	</div>
</div>

<!-- model question -->
<div class="modal fade ss_modal " id="shot_question_details" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">

			<!-- <form class="form-inline" id="question_form" method="POST" enctype="multipart/form-data"> -->

			<div style="background-color: #eee;" class="modal-body">
				<div style="display: flex;">
					<a href="#" style="color:black; text-decoration: underline;padding-right:100px;">Short Question</a>
					<h6 style="display: flex;">Question </h6>

					<button style="color:black;border:none;margin-left: auto;order: 2;" type="button" class="close_ch close_short_question_modal" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>

				</div>
				<div class="row">
					<textarea id="short_ques_body" class="form-control mytextarea" name="short_ques_body"><?=$idea_info['short_ques_body']?></textarea>
					<button type="button" class="close_short_question" style="float: right;margin-top: 9px;margin-right: 9px;font-weight: normal;border: none;padding: 8px 15px;border-radius: 5px;background: white;">save</button>
				</div>
			</div>

			<!-- <div class="modal-footer">
          <button type="button" onclick="add_subject()" class="btn btn_blue">Save</button>
          <button type="button" class="btn btn_blue close_ch" data-dismiss="modal">Cancel</button>
        </div> -->
			<!-- </form> -->
		</div>
	</div>
</div>

<div class="modal fade ss_modal " id="large_question_details" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div style="background-color: #eee;" class="modal-body">
				<div style="display: flex;">
					<a href="#" style="color:black; text-decoration: underline;padding-right:100px;">Detail Question</a>
					<h6 style="display: flex;"> Question </h6>

					<button style="color:black;border:none;margin-left: auto;order: 2;" type="button" class="close_ch" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i>
					</button>
				</div>
				<div class="row">
					<textarea id="large_ques_body" class="form-control mytextarea" name="large_ques_body"><?= $idea_info['large_ques_body'] ?></textarea>
					<textarea style="display: none;" id="large_ques_body_rep"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade ss_modal " id="newidea" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div style="background-color: #00a2e8; color: white;" class="modal-content">

			<div class="modal-header">
				<h4 style="background-color: #00a2e8; color: white;">Idea

					<button style="float: right; color:black;background-color: #00a2e8;border:none;" type="button" class="ideabtnclose" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i></button>
				</h4>
			</div>

			<form class="">
				<div class="modal-body">
					<div id="checkbox_titlelimit_alert">
						<div>
							Number of task submited on this topic &nbsp; <input class="form-control w-50" type="text" value="50" readonly="" name="">
						</div>

					</div>
					<div class="d-flex">
						<input type="checkbox" name="" id="checkbox_titlelimit"> &nbsp;
						<div class="form-group">
							<label style="color:#fff">Idea/Topic/Story Title</label>
							<input type="text" id="idea_question_title_main" class="form-control shot_question_title " name="idea_question_title" readonly="" maxlength="50" value="">
						</div>
					</div>


				</div>
		</div>
	</div>
</div>
<!-- model question -->
<div class="modal fade ss_modal " id="idea_question_details" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">

			<div style="background-color: #eee;" class="modal-body">
				<div style="display: flex;">
					<h6 style="text-align:center;"> Question </h6>
					<button style="color:black;border:none;margin-left: auto;order: 2;" type="button" class="close_idea" data-dismiss="modal">
						<i class="fa fa-times" aria-hidden="true"></i>
					</button>
				</div>
				<div class="row">
					<input type="hidden" id="total_word_ajax" value="7">
					<textarea id="idea_ques_body" class="form-control mytextarea" name="idea_question_body"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade ss_modal" id="ss_sucess_mess" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="myModalLabel">&nbsp;</h4>
			</div>
			<div class="modal-body row">
				<img src="assets/images/icon_info.png" class="pull-left"> <span class="ss_extar_top20">Update Sucessfully</span>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn_blue" id="update_success_button" data-dismiss="modal">Ok</button>
				<a style="display:none;" class="btn btn_blue" id="update_success_button_with_url">Ok</a>
			</div>
		</div>
	</div>
</div>

<div class="modal fade ss_modal " tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="question_create_details_modal">
  <!-- Modal -->
  <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="mclose" data-dismiss="modal" style="float:right;cursor:pointer;">x</div>
        <div class="btm_word_limt text-center">
            <p style="color:#00a2e8;">Tutor(<b class="question_creator_name">name</b>)</p>
            <br><br>
            <p style="font-weight:bold;"><u>Idea/Topic/Stoty Title</u></p>
            <br>
            <p class="short_question_name_modal">""</p>
            <br>
            <p> Created: &nbsp; &nbsp; <span id="question_creator_date">06/08/2021</span></p>
            
        </div>
      </div>
  </div>
</div>

<div class="modal fade ss_modal " tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="idea_create_details_modal">
      <!-- Modal -->
      <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="mclose" data-dismiss="modal" style="float:right;cursor:pointer;">x</div>
        <div class="btm_word_limt text-center">
            <p style="color:#00a2e8;">Tutor(<b class="idea_creator_name">name</b>)</p>
            <br><br>
            <p style="font-weight:bold;"><u>Idea/Topic/Stoty Title</u></p>
            <br>
            <p class="idea_name_modal">""</p>
            <br>
            <p> Created: &nbsp; &nbsp; <span id="idea_creator_date">06/08/2021</span></p>
            
        </div>
      </div>
  </div>
</div>


<script type="text/javascript">
	$(function() {

		$(".word_limit_show").hide();
		$(".word_limit_number_show").hide();
		$("#time_show").hide();

		$("#question_form").on('submit', function(e) {
			e.preventDefault();
			$.ajax({
				url: "Admin/update_question_data",
				type: "POST",
				//data: form.serialize(),
				data: new FormData(this),
				processData: false,
				contentType: false,
				cache: false,
				dataType: 'html',

				success: function(response) {
					// console.log(response);

					if (response == "update") {
						$("#ss_sucess_mess").modal('show');
						<?php if (!empty($this->session->userdata('module_status'))) { ?>
							var module_status = <?php echo $this->session->userdata('module_status'); ?>;

						<?php }
						if (!empty($this->session->userdata('param_module_id'))) { ?>
							var param_module_id = <?php echo $this->session->userdata('param_module_id'); ?>;
						<?php } ?>

						if (module_status == 1) {
							var get_url = "<?= base_url() ?>create-module/1";
							$("#update_success_button").hide();
							$("#update_success_button_with_url").css('display', 'inline-block');
							$("#update_success_button_with_url").attr('href', get_url);
						} else if (module_status == 2) {
							var get_url = "<?= base_url() ?>new-edit-module/" + param_module_id;
							$("#update_success_button").hide();
							$("#update_success_button_with_url").css('display', 'inline-block');
							$("#update_success_button_with_url").attr('href', get_url);
						}
					}

				}

			});

		});

		$("#large_question").click(function() {
			$('#large_question_details').modal('show');
		});

		$(".open_detail_question").click(function() {
			$('#large_question_details').modal('show');
		});

		$(document).on('click', '#create_new_idea', function() {
			$('#newidea').modal('show');
			$("#idea_question_title_main").removeAttr("readonly");
		});

		$(document).on('click', '.view_idea', function() {
			var question_id = $(this).attr('data-id');
			var idea_id = $(this).attr('data-idea');
  
			$.ajax({
				url: "Admin/view_edit_idea",
				type: "POST",
				data: {
					question_id: question_id,
					idea_id:idea_id
				},
				success: function(response) {
					var data = JSON.parse(response);
					var idea_creator = data['name'];
					$('.idea_creator').text(idea_creator);
					$(".idea_main_body ").val(data['idea_ans']);
				}
			});

		});

		$('.close_idea').click(function() {
			var check_idea = $("#check_new_idea").val();
			var total_word = $('#total_word_ajax').val();
			var idea_id = $(".search_button").attr("data-index");
			var idea_title = $('#idea_question_title_main').val();
			var question_description = $('#idea_ques_body').val();
			console.log(question_description);

			var question_id = <?= $question_id; ?>;

			$.ajax({
				url: "Admin/save_more_idea",
				type: "POST",
				data: {
					idea_title: idea_title,
					question_description: question_description,
					question_id: question_id
				},
				success: function(response) {
					var data = JSON.parse(response);
					var html = '';
					var color = 'background:#fb8836f0;';
					for (var i = 0; i < data.length; i++) {

						if (i == 0) {
							var html2 = '<label data-toggle="modal" data-target="#newidea"> <span><img src="assets/images/icon_new.png"> New</span> </label>';
						} else {
							var html2 = '';
						}
						if (i == data.length - 1) {
							var color = 'background:#fb8836f0;';
							//$(".idea_main_body").val(data[i].idea_question);
						} else {
							var color = '';
						}
						var idea = i + 1;
						var desc = "<input type='hidden' class='ideasall' name='idea_details[]' data-index='" + data[i].idea_question + "' data-id='" + i + "' value='" + data[i].idea_id + "," + data[i].idea_title + "," + data[i].idea_question + "'>";


						html += '<div class="form-group" style="float: left;margin-right: 10px;">' + html2 + '<div><input type="hidden" name="idea_name[]" value="idea' + data[i].idea_id + '">' + desc + '<button style="' + color + '" data-id="' + i + '" class="btn btn-select-border showIdea  color_change idea' + data[i].idea_id + '" type="button">Idea ' + idea + '</button></div></div>';

						if (i == data.length - 1) {
							$(".idea_main_body").val(data[i].idea_question);
						}
					}
					$('.all_idea').html(html);
				}
			});

		});

	});


	$("#word_limit_set").change(function() {
		var word_limit = $("#word_limit_set").val();
		console.log(word_limit);

		$(".word_limit_number_show").text(word_limit);
		$(".word_limit_number_show").show();
		$(".word_limit_show").show();
	});
	$('#get_subject').click(function() {
		var subject_id = document.getElementById('subject').value;
		document.getElementById("attached_subject").value = subject_id;
		$('#add_chapter').modal('show');
	});
	$('#shot_question_box').click(function() {
		$('#shot_question').modal('show');
		$(".question_title").css('background-color', '#00a2e8');
		$("#advance_searc_content").show();
		$("#image_search_bar").hide();
		$("#selected_search").val(1);
		//$("#short_question_view").css('display', 'block');
		$("#Idea_view").css('display', 'none');
		$(".shot_question_title").removeAttr("readonly");
		$(".shot_question_title").val("");
		$("#check_new_idea").val(2);

		var html2 = '<label data-toggle="modal" data-target="#newidea"> <span><img src="assets/images/icon_new.png"> New</span> </label>';

		html = '<div class="idea_setting_mid_bottom"><div class="all_idea"><div class="form-group" style="float: left;margin-right: 10px;"><label id="create_new_idea"> <span><img src="assets/images/icon_new.png"> New</span> </label><div><button id="idea1" class="btn btn-select-border">Idea- </button></div></div></div></div>';

		//$('.all_idea').html(html);
	});
	$("#serial_no_idea").on("change", function() {

		var serial_no = $(this).val();
		var idea_no = $(this).attr("data-id");
		var question_id = $("#question_id").val();
		$.ajax({
			url: "set_serial_no",
			type: "POST",
			data: {
				serial_no: serial_no,
				question_id: question_id,
				idea_no: idea_no
			},
			success: function(data) {
				if (data == 1) {
					alert("Serial no assined");
				}

			}

		});

	});
	$(document).ready(function() {

		$('.ideabtnclose').click(function() {
			$modal = $('#idea_question_details');
			$('#idea_question_details').modal('show');

			var idea_body = $('#idea_question_title_main').val();
			var text = '"' + idea_body + '"&#9999;&#65039;<br>';
			$('#idea_ques_body').val(text);
		});


		$("#advance_searc_op").click(function() {
			$("#image_search_bar").hide();
			$("#advance_searc_content").show();
			$('.clear_idea').show();
			$('#advance_searc_op').hide();

			var search_text = $("#advance_searc_content_src").val();
			var search_type = $("#selected_search").val();
			if(search_type==''){
				search_type =1;
			}
			// alert(search_text);
			// alert(search_type);
			search_idea_question(search_text,search_type);
		});
		$(".show_short_question").click(function() {
			$modal = $('#shot_question_details');
			$('#shot_question_details').modal('show');
		});
		$(".show_large_question").click(function() {
			$modal = $('#large_question_details');
			$('#large_question_details').modal('show');
		});
		$("#allow_online").click(function() {
			if ($(this).is(":checked")) {
				var allow_online = 1;
			} else {
				var allow_online = 2;
			}
			var question_id = $("#question_id").val();
			var idea_no = $("#idea_no").val();
			$.ajax({
				url: "set_allow_idea",
				type: "POST",
				data: {
					allow_online: allow_online,
					question_id: question_id,
					idea_no: idea_no
				},
				success: function(data) {
					if (data == 1) {
						alert("Allow online checked");
					} else {
						alert("Allow online Unchecked");
					}
				}

			});
		});
		var availableTags = [
			"ActionScript",
			"AppleScript",
			"Asp",
			"BASIC",
			"C",
			"C++",
			"Clojure",
			"COBOL",
			"ColdFusion",
			"Erlang",
			"Fortran",
			"Groovy",
			"Haskell",
			"Java",
			"JavaScript",
			"Lisp",
			"Perl",
			"PHP",
			"Python",
			"Ruby",
			"Scala",
			"Scheme"
		];
		$("#advance_searc_content_src").autocomplete({
			source: availableTags
		});
		/*--new js code--*/
		$("#checkbox_titlelimit").click(function() {
			if ($(this).is(":checked")) {
				$("#checkbox_titlelimit_alert").show();
				$(".shot_question_title").removeAttr("readonly");
			} else {
				$("#checkbox_titlelimit_alert").hide();
				$(".shot_question_title").attr('readonly', true);
			}
		});
		$("#checkbox_titlelimitidea").click(function() {
			if ($(this).is(":checked")) {
				$("#checkbox_titlelimitidea_alert").show();
				$(".idea_question_title").removeAttr("readonly");
			} else {
				$("#checkbox_titlelimitidea_alert").hide();
				$(".idea_question_title").attr('readonly', true);
			}
		});
		$("#checkbox_titlelimitidea_large").click(function() {
			if ($(this).is(":checked")) {
				$("#checkbox_titlelimit_large_alert").show();
				$(".large_question_title").removeAttr("readonly");
			} else {
				$("#checkbox_titlelimit_large_alert").hide();
				$(".large_question_title").attr('readonly', true);
			}
		});
		$("#checkbox_titlelimit2").click(function() {
			if ($(this).is(":checked")) {
				$("#checkbox_titlelimit2").show();
				$(".idea_question_title").removeAttr("readonly");
			} else {
				$("#checkbox_titlelimit2").hide();
				$(".idea_question_title").attr('readonly', true);
			}
		});

		var wordCounts = {};
		CKEDITOR.instances.word_count.on('key', function(e) {

			var text = CKEDITOR.instances['word_count'].document.getBody().getText();

			var matches = text.match(/\b/g);
			wordCounts[this.id] = matches ? matches.length / 2 : 0;
			var finalCount = 0;
			$.each(wordCounts, function(k, v) {
				finalCount += v;
			});
			$('#total_idea_word').val(finalCount);
			am_cal(finalCount);

		});

		CKEDITOR.instances.idea_ques_body.on('key', function(e) {

			var text = CKEDITOR.instances['idea_ques_body'].document.getBody().getText();

			var matches = text.match(/\b/g);
			wordCounts[this.id] = matches ? matches.length / 2 : 0;
			var finalCount = 0;
			$.each(wordCounts, function(k, v) {
				finalCount += v;
			});

			$('#total_word_ajax').val(finalCount);
			am_cal(finalCount);

		});

	});

	$(".clik_point").on("click", function() {

		var question_id = $("#question_id").val();
		var module_id = $("#module_id").val();
		var idea_id = $("#idea_id").val();
		var idea_no = $("#idea_no").val();
		var tutor_id = $("#tutor_id").val();
		//   alert(question_id);  
		//   alert(module_id);  
		//   alert(idea_id);  
		//   alert(idea_no);  alert(tutor_id);  
		$.ajax({
			url: "Student/add_tutor_like",
			method: "POST",
			data: {
				question_id: question_id,
				module_id: module_id,
				idea_id: idea_id,
				idea_no: idea_no,
				tutor_id: tutor_id
			},
			dataType: 'json',
			success: function(data) {
				console.log(data);


				if (data.insert_or_update == 1) {
					alert('like added');
				} else {
					alert('allready like added');
				}
				$(".clik_point").text(data.total_like);
				$('.clik_point_detatis_tutor').show();
				$('.clik_point').hide();
			}

		})

	});
	$("#open_like_modal").click(function() {
		$("#topicstory_tutor").modal("show");
	});

	$('#subject').on('change', function(e) {
		// e.stopPropogation();

		var subject_id = $(this).val();
		// alert(subject_id);
		$.ajax({
			url: "Admin/get_chapter_name",
			method: "POST",
			data: {
				subject_id: subject_id
			},
			success: function(response) {
				$('#subject_chapter').html(response);
			}
		});

	});


	$("#time_hour").keyup(function() {
		var hour = $("#time_hour").val();
		var min = parseInt($("#time_min").val());
		if (isNaN(min)) {
			min = 0;
		}
		if (min == '') {
			var min = 0;
		}
		if (min <= 60) {

		} else {
			alert("It should be equal or less than 60");
			min = 00;
			$("#time_min").val('00');
		}
		var sec = parseInt($("#time_sec").val());
		if (isNaN(sec)) {
			sec = 0;
		}
		if (sec <= 60) {

		} else {
			alert("It should be equal or less than 60");
			sec = 00;
			$("#time_sec").val('00');
		}
		var time = hour + ':' + min + ':' + sec;
		$("#time_show").val(time);
		$("#time_show").show();
	});

	$("#time_min").keyup(function() {
		// alet('hello')
		var hour = $("#time_hour").val();
		var min = parseInt($("#time_min").val());
		if (isNaN(min)) {
			min = 0;
		}
		if (min <= 60) {

		} else {
			alert("It should be equal or less than 60");
			min = 00;
			$("#time_min").val('00');
		}
		var sec = parseInt($("#time_sec").val());
		if (isNaN(sec)) {
			sec = 0;
		}
		if (sec <= 60) {

		} else {
			alert("It should be equal or less than 60");
			sec = 00;
			$("#time_sec").val('00');
		}
		var time = hour + ':' + min + ':' + sec;
		$("#time_show").val(time);
		$("#time_show").show();
	});

	$("#time_sec").keyup(function() {
		var hour = $("#time_hour").val();
		var min = parseInt($("#time_min").val());
		if (isNaN(min)) {
			min = 0;
		}
		if (min == '') {
			var min = 0;
		}
		if (min <= 60) {

		} else {
			alert("It should be equal or less than 60");
			min = '00';
			$("#time_min").val('00');
		}
		var sec = parseInt($("#time_sec").val());
		if (isNaN(sec)) {
			sec = 0;
		}
		if (sec <= 60) {

		} else {
			alert("It should be equal or less than 60");
			sec = 00;
			$("#time_sec").val('00');
		}
		var time = hour + ':' + min + ':' + sec;
		$("#time_show").val(time);
		$("#time_show").show();
	});
	$("#advance_searc_op").click(function() {
      // $("#advance_allowonline").toggle();
      // $("#advance_searc_content").toggle(); 222
	  
      $("#image_search_bar").hide();
      $("#advance_searc_content").show();
      $('.clear_idea').show();
      $('#advance_searc_op').hide();

      var search_text = $("#advance_searc_content_src").val();
      var search_type = $("#selected_search").val();
      if(search_type==''){
        search_type =1;
      }
      // alert(search_text);
      // alert(search_type);
      search_idea_question(search_text,search_type);
    });

    function search_idea_question(search_text,search_type){
      $.ajax({
        url: "search_idea",
        type: "POST",
        data: { 
          search_text: search_text,
          search_type: search_type
        },
        success: function(data) {

          var all_data = JSON.parse(data);
          
          html = '';
          // console.log(all_data);
          if(all_data['questions'] != undefined){

            console.log(all_data['questions']);
          for (i = 0; i < all_data['questions'].length; i++) {
            html += '<br><a class="search_button" type="button"  data-id="' + all_data['questions'][i].question_id + '" data-index="' + all_data['questions'][i].id + '">' + all_data['questions'][i].shot_question_title + '</a>';
          }
          }
          
          $("#search_view").css('display', 'block');
          $('#search_view').show();
          $('#search_view').html(html);
          
        }
      });
    }
	$(document).on('click', '.search_button', function() {
      $("#search_view").css('display', 'none');
      $("#short_question_view").css('display', 'block');
      //$("#short_edit_button").css('display', 'block');
      // $(".shot_question_title").attr('readonly', true);
	 
      
      $("#check_new_idea").val(1);
      var question_id = $(this).attr('data-id');
      $.ajax({
        url: "get_idea",
        type: "POST",
        data: {
          question_id: question_id
        },
        success: function(response) {
          var data = JSON.parse(response); 
          console.log(data);
          var idea_value = CKEDITOR.instances['word_count'].document.getBody().getText();
          $('#idea_storage').val(idea_value);
          $("#short_title").val(data[0]['shot_question_title']);
          $(".shot_question_title").val(data[0]['shot_question_title']);
          $('#shot_question_box').attr('data-nonCreate',1);
          $("#idea_title").val(data[0]['idea_name']);
          $(".idea_main_body ").val(data[0]['idea_question']);
          $('#short_ques_body').val(data[0]['shot_question_title']);
          $('#large_ques_body').val(data[0]['large_ques_body']);
          $('#short_question_id').val(data[0]['question_id']);
          $('#idea1').text(data[0]['idea_name']);
          $('#idea1').css({
            "background-color": "#00a2e8;",
            "color": "white;"
          }); 

          $('.this_idea_title').text(data[0]['image_title']);
          $('.question_creator').text(data[0]['name']);
          $('.question_idea_show').show();
          $('.show_short_question').css('background-color','#00a2e8');
          $('#short_ques_body').attr('disabled',true);
          CKEDITOR.instances['short_ques_body'].setReadOnly(true);

          $('#question_creator_details').attr('data-qcreator',data[0]['name']);
          $('#question_creator_details').attr('data-question_name',data[0]['shot_question_title']);
          $('#question_creator_details').attr('data-q_created_at',data[0]['q_created_at']);

          $('#idea_creator_details').attr('data-qcreator',data[0]['name']);
          $('#idea_creator_details').attr('data-idea_name',data[0]['idea_name']);
          $('#idea_creator_details').attr('data-created_at',data[0]['created_at']);
        }

      });

    });
	$('.clear_idea').click(function(){
		var get_idea_val = $('#idea_storage').val();
		$('#word_count').val(get_idea_val);
		$('#short_question_view').hide();
		$('#advance_searc_content').hide();
		$('.clear_idea').hide();
		$('#advance_searc_op').show();
		$('.question_idea_show').hide();
		// $('.show_short_question').css('background-color','#fff');
		// $('.show_large_question').css('background-color','#fff');
		CKEDITOR.instances['short_ques_body'].setReadOnly(false);
		$('#shot_question_box').removeAttr('data-nonCreate');

		$('#idea1').text('Idea-');
		$('#idea1').css({
			"background-color": "#fff;",
			"color": "black;"
		});
    });

	$('#question_creator_details').click(function(){
		var creator_name = $(this).attr('data-qcreator');
		var creation_date = $(this).attr('data-q_created_at');
		var short_question_name = '"'+$(this).attr('data-question_name')+'"';
		//  var date = "2013-06-26 06:46:29";
		var dateSplit = creation_date.split(" ");
		var dateSplit2 = dateSplit[0].split("-");
		var formattedDate = dateSplit2.reverse().join('-'); 
		$('.question_creator_name').text(creator_name);
		$('#question_creator_date').text(formattedDate);
		$('.short_question_name_modal').text(short_question_name);
		$('#question_create_details_modal').modal('show');
    });

	$('#idea_creator_details').click(function(){
		var creator_name = $(this).attr('data-qcreator');
		var creation_date = $(this).attr('data-created_at');
		var short_question_name = '"'+$(this).attr('data-idea_name')+'"';

		//  var date = "2013-06-26 06:46:29";
		var dateSplit = creation_date.split(" ");
		var dateSplit2 = dateSplit[0].split("-");
		var formattedDate = dateSplit2.reverse().join('-');   
		$('.idea_creator_name').text(creator_name);
		$('#idea_creator_date').text(formattedDate);
		$('.idea_name_modal').text(short_question_name);
		$('#idea_create_details_modal').modal('show');
		
	});
</script>